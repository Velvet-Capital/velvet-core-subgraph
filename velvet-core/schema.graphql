type PortfolioInfo @entity(immutable: true) {
  id: ID!
  portfolioData: PortfoliolInfo
  portfolioId: BigInt!
  name: String!
  symbol: String!
  owner: Bytes!
  accessController: Bytes!
  isPublicPortfolio: Boolean!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type PortfoliolInfo @entity {
  id: ID!
  portfolio: Bytes!
  tokenExclusionManager: Bytes!
  rebalancing: Bytes!
  owner: Bytes!
  assetManagementConfig: Bytes!
  feeModule: Bytes!
  vaultAddress: Bytes!
  gnosisModule: Bytes!
}

type PortfolioFactory @entity {
  id: ID!
  portfolioInfoList: [PortfoliolInfo!]! # This represents the PortfolioInfolList
  protocolConfig: Bytes!
  portfolioCreationPause: Boolean!
}

type Transfer @entity {
  id: ID!
  from: Bytes!
  to: Bytes!
  value: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type TokenExcluded @entity {
  id: ID!
  token: Bytes!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type RebalanceExecuted @entity {
  id: ID!
  executor: Bytes!
  timestamp: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type FeeUpdated @entity {
  id: ID!
  param1: BigInt!
  param2: BigInt!
  param3: BigInt!
  param4: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type ModuleSetUp @entity {
  id: ID!
  module: Bytes!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

# --- PORTFOLIO EVENTS ---

type PublicSwapEnabled @entity {
  id: ID!
  portfolio: Bytes!
  timestamp: BigInt!
  transactionHash: Bytes!
}

type Deposit @entity {
  id: ID!
  portfolio: Bytes!
  user: Bytes!
  mintedAmount: BigInt!
  userBalanceAfterDeposit: BigInt!
  timestamp: BigInt!
  transactionHash: Bytes!
}

type Withdrawal @entity {
  id: ID!
  user: Bytes!
  burnedAmount: BigInt!
  portfolio: Bytes!
  portfolioTokens: [Bytes!]!
  userBalanceAfterWithdrawal: BigInt!
  userWithdrawalAmounts: [BigInt!]!
  timestamp: BigInt!
  transactionHash: Bytes!
}

type UserDepositedAmount @entity {
  id: ID!
  depositedAmounts: [BigInt!]!
  portfolioTokens: [Bytes!]!
  timestamp: BigInt!
  transactionHash: Bytes!
}

# --- FEE MODULE EVENTS ---

type FeesToBeMinted @entity(immutable: true) {
  id: ID!
  assetManagementTreasury: Bytes!
  protocolTreasury: Bytes!
  protocolFeeAmount: BigInt!
  managerFeeAmount: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type ManagementFeeCalculated @entity(immutable: true) {
  id: ID!
  protocolStreamingFeeAmount: BigInt!
  managementFeeAmount: BigInt!
  protocolFeeCutAmount: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type EntryExitFeeCharged @entity(immutable: true) {
  id: ID!
  entryExitProtocolFeeAmount: BigInt!
  entryExitAssetManagerFeeAmount: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}
